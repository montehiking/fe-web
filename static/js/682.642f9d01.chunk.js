"use strict";(self.webpackChunkmontehiking=self.webpackChunkmontehiking||[]).push([[682],{6682:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(1413),i=t(3433),c=t(1807),l=t(4802),o=t(5587),a=t.n(o),s=t(2791),m=t(4925),d=t(9235),p=t(3539),h=t(3391),u=t(184),f=["text"],E=function(e){var n=e.text,t=(0,m.Z)(e,f),i=(0,p.Z)();return(0,u.jsx)(d.default,(0,r.Z)((0,r.Z)({},t),{},{children:(0,h.W)(i,n)}))},y=t(8340),k={mapsme:"maps.me",organicmaps:"omaps.app"},g="styles_wrapper__kDw2O",w="styles_buttons__GDQ+Q",x="styles_p__UxwU8",v={icon:(0,u.jsx)(c.Z,{}),type:"primary",style:{minWidth:110,margin:5}},Z=function(e){var n=e.mapState,t=n.routes.length+n.points.length===0;return(0,u.jsxs)("div",{className:g,children:[(0,u.jsx)("p",{className:x,children:(0,u.jsx)(h.w,{id:"components.organisms.ExportButton.text"})}),(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)(E,(0,r.Z)((0,r.Z)({},v),{},{disabled:t,onClick:function(){var e={type:"FeatureCollection",name:"MonteHiking",features:[].concat((0,i.Z)(n.routes),(0,i.Z)(n.points)).map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{properties:(0,r.Z)({name:e.properties.name,description:e.properties.description},"routes"===e.properties.category?{stroke:e.properties.notVerified?"yellow":"blue"}:{fill:e.properties.notVerified?"yellow":"red"})})}))},t=new Blob([JSON.stringify(e)],{type:"text/json;charset=utf-8"});(0,l.saveAs)(t,"MonteHiking.geojson")},text:{id:"components.organisms.ExportButton.geojson"}})),(0,u.jsx)(E,(0,r.Z)((0,r.Z)({},v),{},{disabled:t,onClick:function(){(new(a())).file("MonteHiking.kml",function(e,n){var t=console.error;console.error=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n[0].includes("Use PascalCase")||t.call.apply(t,[console].concat(n))};var r=["placemark-red","placemark-yellow"].map((function(n){return(0,s.createElement)("Style",{id:n,key:n,children:(0,s.createElement)("IconStyle",{children:(0,s.createElement)("Icon",{children:(0,s.createElement)("href",{children:"https://".concat(k[e],"/placemarks/").concat(n,".png")})})})})})),c=[{id:"line-blue",color:"ffff9018"},{id:"line-yellow",color:"ff00ccff"}].map((function(e){var n=e.id,t=e.color;return(0,s.createElement)("Style",{id:n,key:n,children:(0,s.createElement)("LineStyle",{children:[(0,s.createElement)("color",{children:t}),(0,s.createElement)("width",{children:4})]})})})),l=(0,s.createElement)("name",{children:"MonteHiking"}),o=(0,s.createElement)("visibility",{children:"1"}),a=(0,s.createElement)("ExtendedData",{"xmlns:mwm":"https://".concat(k[e]),children:[(0,s.createElement)("mwm:name",{children:(0,s.createElement)("mwm:lang",{code:"default",children:"MonteHiking"})}),(0,s.createElement)("mwm:annotation"),(0,s.createElement)("mwm:description"),(0,s.createElement)("mwm:lastModified",{children:(new Date).toISOString()}),(0,s.createElement)("mwm:accessRules",{children:"Local"})]}),m=n.points.map((function(e){var n=e.geometry,t=e.properties,r=n.coordinates.join(),i=t.notVerified?"placemark-yellow":"placemark-red";return(0,s.createElement)("Placemark",{key:r,children:[(0,s.createElement)("name",{children:t.name}),(0,s.createElement)("description",{children:t.description}),(0,s.createElement)("styleUrl",{children:"#".concat(i)}),(0,s.createElement)("Point",{children:(0,s.createElement)("coordinates",{children:r})})]})})),d=n.routes.map((function(e){var n=e.geometry,t=e.properties,r=t.notVerified?"line-yellow":"line-blue";return(0,s.createElement)("Placemark",{key:n.coordinates[0].join()+t.name,children:[(0,s.createElement)("name",{children:t.name}),(0,s.createElement)("description",{children:t.description}),(0,s.createElement)("styleUrl",{children:"#".concat(r)}),(0,s.createElement)("LineString",{children:[(0,s.createElement)("tessellate",{children:1}),(0,s.createElement)("coordinates",{children:n.coordinates.map((function(e){return e.join()})).join(" ")})]})]})})),p=(0,s.createElement)("kml",{xmlns:"http://earth.google.com/kml/2.2",children:(0,s.createElement)("Document",{children:[].concat((0,i.Z)(r),(0,i.Z)(c),[l,o,a,m,d])})}),h=(0,y.uS)(p);return console.error=t,'<?xml version="1.0" encoding="UTF-8"?>'+h}("mapsme",n)).generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}}).then((function(e){return(0,l.saveAs)(e,"MonteHiking.kmz")}))},text:{id:"components.organisms.ExportButton.kmz"}}))]})]})}}}]);
//# sourceMappingURL=682.642f9d01.chunk.js.map